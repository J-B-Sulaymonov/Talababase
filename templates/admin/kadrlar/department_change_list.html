{% extends "admin/change_list.html" %}
{% load i18n static %}

{% block content_title %}
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
    <h1 style="margin: 0; font-size: 24px; color: #2c3e50;">
        <i class="fas fa-building"></i> Kafedralar va Bo'limlar Boshqaruvi
    </h1>
</div>
{% endblock %}

{% block result_list %}

<div class="kadr-stats-container">

    <div class="stat-card gradient-blue">
        <div class="stat-icon"><i class="fas fa-layer-group"></i></div>
        <div class="stat-info">
            <h3>Jami Bo'limlar</h3>
            <p class="counter">{{ stats.total_depts|default:"0" }}</p>
        </div>
    </div>

    <div class="stat-card white-card">
        <div class="stat-icon" style="background: #e2e8f0; color: #475569;">
            <i class="fas fa-users"></i>
        </div>
        <div class="stat-info">
            <h3 style="color: #64748b;">Xodimlar Soni</h3>
            <p class="counter" style="color: #334155;">{{ stats.total_employees|default:"0" }}</p>
        </div>
    </div>

    <div class="stat-card gradient-green">
        <div class="stat-icon"><i class="fas fa-user-check"></i></div>
        <div class="stat-info">
            <h3>Tasdiqlangan</h3>
            <p class="counter">{{ stats.active_employees|default:"0" }}</p>
        </div>
    </div>

    <div class="stat-card gradient-orange">
        <div class="stat-icon"><i class="fas fa-hourglass-half"></i></div>
        <div class="stat-info">
            <h3>Kutilmoqda</h3>
            <p class="counter">{{ stats.pending_employees|default:"0" }}</p>
        </div>
    </div>

</div>

<div class="custom-table-wrapper">
    {{ block.super }}
</div>

<style>
    .kadr-stats-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 20px;
        margin-bottom: 25px;
    }
    .stat-card {
        padding: 20px;
        border-radius: 15px;
        display: flex;
        align-items: center;
        box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        color: white;
        transition: transform 0.3s ease;
        position: relative;
        overflow: hidden;
    }
    .stat-card:hover { transform: translateY(-5px); }
    .stat-icon {
        font-size: 28px;
        margin-right: 15px;
        width: 55px; height: 55px;
        background: rgba(255,255,255,0.2);
        border-radius: 50%;
        display: flex; align-items: center; justify-content: center;
    }
    .stat-info h3 { margin: 0; font-size: 13px; font-weight: 500; opacity: 0.9; text-transform: uppercase; letter-spacing: 0.5px; }
    .stat-info p { margin: 5px 0 0; font-size: 26px; font-weight: 800; }

    /* Gradient ranglar */
    .gradient-blue { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
    .gradient-green { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
    .gradient-orange { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }

    /* Oq karta stili */
    .white-card { background: white; color: #333; border: 1px solid #e2e8f0; }
</style>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
{% endblock %}